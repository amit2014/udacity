<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <title>D3: Setting path fills</title>
        <script src="//d3js.org/d3.v3.min.js"></script>
        <script src="http://d3js.org/topojson.v0.min.js"></script>
        <style type="text/css">
            /* No style rules here yet */       
        </style>
    </head>
    <body>
        <script type="text/javascript">
                        
            //Width and height
            var w = 500;
            var h = 300;
            //Define map projection
//            var projection = d3.geo.mercator()
//                .scale(500)
//                .translate([w / 2, h / 2]);
            
            var projection = d3.geo.albers()
                .center([0, 55.4])
                .rotate([4.4, 0])
                .parallels([50, 60])
                .scale(6000)
                .translate([w/2, h/2]);

            //Define path generator
            var path = d3.geo.path()
                .projection(projection);
            
            //Create SVG element
            var svg = d3.select("body")
                        .append("svg")
                        .attr("width", w)
                        .attr("height", h);
            //Load in GeoJSON data
            d3.json("data/toronto_crs84.json", function(json) {

                //Bind data and create one path per GeoJSON feature
                svg.selectAll("path")
                   .data(json.features)
                   .enter()
                    .append("path")
                    .attr("d", d3.geo.path().projection(d3.geo.mercator()));
//                   .append("path")
//                   .attr("d", path)
//                   .style("fill", "steelblue");
                    

            });
            
        </script>
        
    </body>
</html>